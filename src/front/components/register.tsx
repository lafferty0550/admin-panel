import React, {MouseEvent} from 'react'
import {Link} from 'react-router-dom'

import {UserType} from '@api/types'
import {Button, InputWithIcon} from '@components'

import './auth-page.less'

type PropsType = {
    inProgress: boolean,
    user: UserType,
    setInfo: (field: string, value: string) => void,
    onRegister: (e: MouseEvent<HTMLButtonElement>) => void
}

export default (({inProgress, user, setInfo, onRegister}) => {
    return (
        <div className='auth-page'>
            {inProgress
                ? <div>Loading...</div>
                : (
                    <>
                        <h1>Регистрация</h1>
                        <div className='auth-page__form'>
                            <InputWithIcon placeholder='Почта' value={user.email}
                                           onChange={e => setInfo('email', e.target.value)}
                                           icon={(<svg viewBox="0 0 512 512"><path d="M485.743,85.333H26.257C11.815,85.333,0,97.148,0,111.589V400.41c0,14.44,11.815,26.257,26.257,26.257h459.487 c14.44,0,26.257-11.815,26.257-26.257V111.589C512,97.148,500.185,85.333,485.743,85.333z M475.89,105.024L271.104,258.626 c-3.682,2.802-9.334,4.555-15.105,4.529c-5.77,0.026-11.421-1.727-15.104-4.529L36.109,105.024H475.89z M366.5,268.761 l111.59,137.847c0.112,0.138,0.249,0.243,0.368,0.368H33.542c0.118-0.131,0.256-0.23,0.368-0.368L145.5,268.761 c3.419-4.227,2.771-10.424-1.464-13.851c-4.227-3.419-10.424-2.771-13.844,1.457l-110.5,136.501V117.332l209.394,157.046 c7.871,5.862,17.447,8.442,26.912,8.468c9.452-0.02,19.036-2.6,26.912-8.468l209.394-157.046v275.534L381.807,256.367 c-3.42-4.227-9.623-4.877-13.844-1.457C363.729,258.329,363.079,264.534,366.5,268.761z"/></svg>)}/>
                            <InputWithIcon placeholder='Имя' value={user.firstname}
                                           onChange={e => setInfo('firstname', e.target.value)}
                                           icon={(<svg viewBox="0 -43 512 512"><path d="m453.332031 426.667969h-394.664062c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-266.667969c0-32.363281 26.304688-58.664062 58.667969-58.664062h128c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16h-128c-14.699219 0-26.667969 11.964843-26.667969 26.664062v266.667969c0 14.699219 11.96875 26.667969 26.667969 26.667969h394.664062c14.699219 0 26.667969-11.96875 26.667969-26.667969v-266.667969c0-14.699219-11.96875-26.664062-26.667969-26.664062h-128c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h128c32.363281 0 58.667969 26.300781 58.667969 58.664062v266.667969c0 32.363281-26.304688 58.667969-58.667969 58.667969zm0 0"/><path d="m304 117.332031h-96c-20.585938 0-37.332031-16.746093-37.332031-37.332031v-42.667969c0-20.585937 16.746093-37.332031 37.332031-37.332031h96c20.585938 0 37.332031 16.746094 37.332031 37.332031v42.667969c0 20.585938-16.746093 37.332031-37.332031 37.332031zm-96-85.332031c-2.945312 0-5.332031 2.390625-5.332031 5.332031v42.667969c0 2.945312 2.386719 5.332031 5.332031 5.332031h96c2.945312 0 5.332031-2.386719 5.332031-5.332031v-42.667969c0-2.941406-2.386719-5.332031-5.332031-5.332031zm0 0"/><path d="m160 256c-29.398438 0-53.332031-23.9375-53.332031-53.332031 0-29.398438 23.933593-53.335938 53.332031-53.335938s53.332031 23.9375 53.332031 53.335938c0 29.394531-23.933593 53.332031-53.332031 53.332031zm0-74.667969c-11.753906 0-21.332031 9.578125-21.332031 21.335938 0 11.753906 9.578125 21.332031 21.332031 21.332031s21.332031-9.578125 21.332031-21.332031c0-11.757813-9.578125-21.335938-21.332031-21.335938zm0 0"/><path d="m240 362.667969c-8.832031 0-16-7.167969-16-16v-10.667969c0-14.699219-11.96875-26.667969-26.667969-26.667969h-74.664062c-14.699219 0-26.667969 11.96875-26.667969 26.667969v10.667969c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-10.667969c0-32.363281 26.304688-58.667969 58.667969-58.667969h74.664062c32.363281 0 58.667969 26.304688 58.667969 58.667969v10.667969c0 8.832031-7.167969 16-16 16zm0 0"/><path d="m432 192h-117.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h117.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"/><path d="m432 277.332031h-117.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h117.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"/><path d="m432 362.667969h-117.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h117.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"/></svg>)}/>
                            <InputWithIcon placeholder='Фамилия' value={user.lastname}
                                           onChange={e => setInfo('lastname', e.target.value)}
                                           icon={(<svg viewBox="0 -43 512 512"><path d="m453.332031 426.667969h-394.664062c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-266.667969c0-32.363281 26.304688-58.664062 58.667969-58.664062h128c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16h-128c-14.699219 0-26.667969 11.964843-26.667969 26.664062v266.667969c0 14.699219 11.96875 26.667969 26.667969 26.667969h394.664062c14.699219 0 26.667969-11.96875 26.667969-26.667969v-266.667969c0-14.699219-11.96875-26.664062-26.667969-26.664062h-128c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h128c32.363281 0 58.667969 26.300781 58.667969 58.664062v266.667969c0 32.363281-26.304688 58.667969-58.667969 58.667969zm0 0"/><path d="m304 117.332031h-96c-20.585938 0-37.332031-16.746093-37.332031-37.332031v-42.667969c0-20.585937 16.746093-37.332031 37.332031-37.332031h96c20.585938 0 37.332031 16.746094 37.332031 37.332031v42.667969c0 20.585938-16.746093 37.332031-37.332031 37.332031zm-96-85.332031c-2.945312 0-5.332031 2.390625-5.332031 5.332031v42.667969c0 2.945312 2.386719 5.332031 5.332031 5.332031h96c2.945312 0 5.332031-2.386719 5.332031-5.332031v-42.667969c0-2.941406-2.386719-5.332031-5.332031-5.332031zm0 0"/><path d="m160 256c-29.398438 0-53.332031-23.9375-53.332031-53.332031 0-29.398438 23.933593-53.335938 53.332031-53.335938s53.332031 23.9375 53.332031 53.335938c0 29.394531-23.933593 53.332031-53.332031 53.332031zm0-74.667969c-11.753906 0-21.332031 9.578125-21.332031 21.335938 0 11.753906 9.578125 21.332031 21.332031 21.332031s21.332031-9.578125 21.332031-21.332031c0-11.757813-9.578125-21.335938-21.332031-21.335938zm0 0"/><path d="m240 362.667969c-8.832031 0-16-7.167969-16-16v-10.667969c0-14.699219-11.96875-26.667969-26.667969-26.667969h-74.664062c-14.699219 0-26.667969 11.96875-26.667969 26.667969v10.667969c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-10.667969c0-32.363281 26.304688-58.667969 58.667969-58.667969h74.664062c32.363281 0 58.667969 26.304688 58.667969 58.667969v10.667969c0 8.832031-7.167969 16-16 16zm0 0"/><path d="m432 192h-117.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h117.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"/><path d="m432 277.332031h-117.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h117.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"/><path d="m432 362.667969h-117.332031c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h117.332031c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0"/></svg>)}/>
                            <InputWithIcon placeholder='Пароль' value={user.password}
                                           onChange={e => setInfo('password', e.target.value)}
                                           icon={(<svg viewBox="0 0 511.9 511.9"><path d="m467.62 43.132c-57.512-57.51-151.088-57.51-208.6 0-23.846 23.846-38.456 54.127-42.251 87.57-3.23 28.464 1.973 57.472 14.703 82.898l-230.325 230.326 65.679 65.679 26.754-26.754 29.049 29.049 62.338-62.338-29.049-29.049 21.375-21.375 29.049 29.049 62.338-62.338-29.049-29.049 57.52-57.521c25.427 12.729 54.435 17.934 82.898 14.703 33.443-3.795 63.725-18.405 87.57-42.251 57.512-57.51 57.512-151.088.001-208.599zm-21.213 187.387c-38.449 38.45-97.701 45.59-144.089 17.363l-10.069-6.127-95.044 95.045 29.049 29.049-19.912 19.912-29.049-29.049-63.802 63.801 29.049 29.049-19.911 19.912-29.049-29.049-26.754 26.754-23.252-23.253 225.423-225.423-6.127-10.069c-28.227-46.388-21.086-105.639 17.363-144.089 45.814-45.813 120.359-45.813 166.174 0 45.814 45.815 45.814 120.36 0 166.174z"/><path d="m357.071 84.191c-19.158 19.158-19.158 50.331 0 69.491 9.58 9.578 22.162 14.368 34.745 14.368s25.166-4.79 34.745-14.369h.001c19.157-19.159 19.157-50.332-.001-69.49s-50.332-19.157-69.49 0zm48.278 48.277c-7.463 7.463-19.604 7.461-27.063 0-7.462-7.462-7.462-19.603-.001-27.063 3.731-3.731 8.631-5.597 13.532-5.597 4.9 0 9.802 1.865 13.532 5.596 7.46 7.462 7.46 19.602 0 27.064z"/></svg>)}/>
                        </div>
                        <div className='auth-page__footer'>
                            <Button onClick={onRegister}>ЗАРЕГИСТРИРОВАТЬСЯ</Button>
                            <Link to='/login' className='auth-page__prompt'>Уже есть аккаунт?</Link>
                        </div>
                    </>
                )
            }
        </div>
    )
}) as React.FC<PropsType>