import React, {MouseEvent} from 'react'
import {Link} from 'react-router-dom'

import {Button, InputWithIcon} from '@components'

import './auth-page.less'

type PropsType = {
    inProgress: boolean,
    email: string,
    password: string,
    setEmail: (value: string) => void,
    setPassword: (value: string) => void,
    onLogin: (e: MouseEvent<HTMLButtonElement>) => void
}

export default (({inProgress, email, password, setEmail, setPassword, onLogin}) => {
    return (
        <div className='auth-page'>
            {inProgress
                ? <div>Loading...</div>
                : (
                    <>
                        <h1>Авторизация</h1>
                        <div className='auth-page__form'>
                            <InputWithIcon placeholder='Почта' value={email}
                                           onChange={e => setEmail(e.target.value)}
                                           icon={(
                                               <svg viewBox="0 0 512 512">
                                                   <path d="M485.743,85.333H26.257C11.815,85.333,0,97.148,0,111.589V400.41c0,14.44,11.815,26.257,26.257,26.257h459.487
                                    c14.44,0,26.257-11.815,26.257-26.257V111.589C512,97.148,500.185,85.333,485.743,85.333z M475.89,105.024L271.104,258.626
                                    c-3.682,2.802-9.334,4.555-15.105,4.529c-5.77,0.026-11.421-1.727-15.104-4.529L36.109,105.024H475.89z M366.5,268.761
                                    l111.59,137.847c0.112,0.138,0.249,0.243,0.368,0.368H33.542c0.118-0.131,0.256-0.23,0.368-0.368L145.5,268.761
                                    c3.419-4.227,2.771-10.424-1.464-13.851c-4.227-3.419-10.424-2.771-13.844,1.457l-110.5,136.501V117.332l209.394,157.046
                                    c7.871,5.862,17.447,8.442,26.912,8.468c9.452-0.02,19.036-2.6,26.912-8.468l209.394-157.046v275.534L381.807,256.367
                                    c-3.42-4.227-9.623-4.877-13.844-1.457C363.729,258.329,363.079,264.534,366.5,268.761z"/>
                                               </svg>
                                           )}/>
                            <InputWithIcon placeholder='Пароль' value={password} onChange={e => setPassword(e.target.value)} type='password'
                                           icon={(
                                               <svg viewBox="0 0 511.9 511.9">
                                                   <path d="m467.62 43.132c-57.512-57.51-151.088-57.51-208.6 0-23.846 23.846-38.456 54.127-42.251 87.57-3.23 28.464
                                    1.973 57.472 14.703 82.898l-230.325 230.326 65.679 65.679 26.754-26.754 29.049 29.049 62.338-62.338-29.049-29.049
                                    21.375-21.375 29.049 29.049 62.338-62.338-29.049-29.049 57.52-57.521c25.427 12.729 54.435 17.934 82.898 14.703 33.443-3.795
                                    63.725-18.405 87.57-42.251 57.512-57.51 57.512-151.088.001-208.599zm-21.213 187.387c-38.449 38.45-97.701 45.59-144.089
                                    17.363l-10.069-6.127-95.044 95.045 29.049 29.049-19.912 19.912-29.049-29.049-63.802 63.801 29.049 29.049-19.911
                                    19.912-29.049-29.049-26.754 26.754-23.252-23.253 225.423-225.423-6.127-10.069c-28.227-46.388-21.086-105.639 17.363-144.089
                                     45.814-45.813 120.359-45.813 166.174 0 45.814 45.815 45.814 120.36 0 166.174z"/>
                                                   <path d="m357.071 84.191c-19.158 19.158-19.158 50.331 0 69.491 9.58 9.578 22.162 14.368 34.745 14.368s25.166-4.79
                                     34.745-14.369h.001c19.157-19.159 19.157-50.332-.001-69.49s-50.332-19.157-69.49 0zm48.278 48.277c-7.463 7.463-19.604
                                     7.461-27.063 0-7.462-7.462-7.462-19.603-.001-27.063 3.731-3.731 8.631-5.597 13.532-5.597 4.9 0 9.802 1.865 13.532
                                     5.596 7.46 7.462 7.46 19.602 0 27.064z"/>
                                               </svg>
                                           )}/>
                        </div>
                        <div className='auth-page__footer'>
                            <Button onClick={onLogin}>ВОЙТИ</Button>
                            <Link to='/register'>Ещё не зарегистрированы?</Link>
                        </div>
                    </>
                )}
        </div>
    )
}) as React.FC<PropsType>